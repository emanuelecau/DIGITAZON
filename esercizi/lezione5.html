<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // creo una mappa vuota
      const m1 = new Map();
      console.log(m1);

      // scrittura
      m1.set("name", "Mario");
      m1.set("lastname", "Rossi");
      m1.set("skills", ["javascript", "java", "php"]);

      console.log(m1);
      console.log(m1.size);

      // lettura
      console.log(
        m1.get("name") + " " + m1.get("lastname") + " " + m1.get("skills")
      );

      function getMapInfo(map) {
        if (map instanceof Map == false) {
          console.log("Errore! Devi utilizzare una mappa!");
          return;
        }

        // SE hanno lo stesso numero di elementi e per le stesse chiavi, gli stessi valori.

        let s = "";

        if (map.has("name")) s += map.get("name") + " ";
        if (map.has("lastname")) s += map.get("lastname") + " ";
        if (map.has("skills")) s += map.get("skills");

        console.log(s.trim());
      }

      getMapInfo(m1);

      // check
      console.log(m1.has("skills"));

      const m2 = new Map();
      m2.set("name", "Luigi");
      m2.set("skills", ["php"]);

      getMapInfo(m2);

      console.log("-------------------");

      // iterazione
      function iterateOnMap(v, k) {
        if (typeof v == "string") {
          console.log("la chiave " + k + " ha un valore stringa");
        } else if (Array.isArray(v)) {
          console.log("la chiave " + k + " ha un valore array");
        }
      }

      m1.forEach(iterateOnMap);

      // for( let x of map )

      // cancellazione
      console.log(m1.delete("name"));
      console.log(m1);

      const labels = ["javascript", "java", "php"];

      function iterateOverLabels(v, k) {
        console.log(k + ": " + v);
      }

      labels.forEach(iterateOverLabels);

      for (let i = 1; i < labels.length; i++) {
        console.log(i + ": " + labels[i]);
      }

      console.log(m1 instanceof Map);
      console.log(m1 instanceof Set);

      getMapInfo(10);

      const m3 = new Map([
        ["front-end", ["html", "css", "js"]],
        ["back-end", ["php", "java", "node"]],
        ["rate", 10],
      ]);

      m3.set("", "");

      console.log(m3);

      let x;
      x = "ciao";
    </script>
  </body>
</html>
